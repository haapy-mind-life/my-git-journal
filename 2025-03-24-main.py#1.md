---
created: 2025-03-24T10:57:12+09:00
modified: 2025-03-24T10:57:28+09:00
---

# 2025-03-24-main.py#1

import streamlit as st
import os
import sys

# í´ë” ê²½ë¡œ ì„¤ì •
CURRENT_DIR = os.path.dirname(os.path.abspath(__file__))
VIEWS_DIR = os.path.join(CURRENT_DIR, "views")
MODULES_DIR = os.path.join(CURRENT_DIR, "modules")
sys.path.append(VIEWS_DIR)
sys.path.append(MODULES_DIR)

# views í´ë” ë‚´ë¶€ í˜ì´ì§€ import
import home
import carrier_feature_generator as carrier_gen
import file_comparison as file_comp
import data_visualization as data_viz

# ê³µí†µ ëª¨ë“ˆ import
from config_loader import load_config
from security import check_admin_ip
from visitor_log import log_visitor

def main():
    # config.yaml ë¡œë“œ
    config = load_config()
    app_settings = config.get("app_settings", {})
    
    # ë°©ë¬¸ì ë¡œê¹…
    log_visitor()
    
    # ê´€ë¦¬ì ì—¬ë¶€ íŒë‹¨
    is_admin = check_admin_ip(config)
    
    # Streamlit í˜ì´ì§€ ì„¤ì • (ì˜µì…˜)
    st.set_page_config(page_title=app_settings.get("title", "5G Feature Manager"))
    
    # ì•± ì œëª© í‘œì‹œ
    st.title(f"{app_settings.get('title', '5G Feature Manager')} (MVP)")

    # ì‚¬ì´ë“œë°” ë©”ë‰´
    menu_config = app_settings.get("menu", [])
    """
    ì˜ˆ: app_settings["menu"] = [
      {"name": "Home", "emoji": "ğŸ "},
      {"name": "Carrier Feature Generator", "emoji": "ğŸš€"},
      {"name": "íŒŒì¼ ë¹„êµ", "emoji": "ğŸ”"},
      {"name": "ë°ì´í„° ì‹œê°í™”", "emoji": "ğŸ“Š"}
    ]
    """
    menu_labels = [f"{item['emoji']} {item['name']}" for item in menu_config]

    choice = st.sidebar.radio("ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ì„ íƒí•˜ì„¸ìš”:", menu_labels)

    # ì„ íƒëœ ë¼ë²¨ì—ì„œ ë©”ë‰´ëª… ì¶”ì¶œ
    selected_name = choice.split(" ", 1)[1] if " " in choice else choice

    # ë¼ìš°íŒ…
    if selected_name == "Home":
        home.run(is_admin=is_admin)
    elif selected_name == "Carrier Feature Generator":
        carrier_gen.run(is_admin=is_admin)
    elif selected_name == "íŒŒì¼ ë¹„êµ":
        file_comp.run(is_admin=is_admin)
    elif selected_name == "ë°ì´í„° ì‹œê°í™”":
        data_viz.run(is_admin=is_admin)
    else:
        st.warning("ì•Œ ìˆ˜ ì—†ëŠ” ë©”ë‰´ì…ë‹ˆë‹¤.")

if __name__ == "__main__":
    main()
